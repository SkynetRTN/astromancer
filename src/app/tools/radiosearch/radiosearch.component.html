<div class="page-container">
  <!-- Left container wrapper -->
  <div class="left-container-wrapper" #fileDropZone 
  (dragover)="onDragOver($event)"
  (dragenter)="onDragEnter()"
  (dragleave)="onDragLeave()"
  (drop)="onFileDrop($event)">
    <!-- Upload Container -->
    <div class="left-container" *ngIf="!fitsLoaded">
      <div class="prompt-container">
        <div class="row drop-zone" clusterDragNDrop>
          <div (click)="fileInput.click()" class="click-zone">
            <h3 class="big-title">Drop to Upload</h3>
            <mat-icon class="big-icon">upload</mat-icon>
            <h6>or</h6>
            <h4>Click to Browse</h4>
          </div>
        </div>
      </div>
      <input #fileInput (change)="onFileSelected($event)" style="display: none" type="file">
    </div>

    <!-- Canvas Container with Coordinates and Download Button -->
    <div class="left-container">
      <app-radiosearch-canvas></app-radiosearch-canvas>
    </div>
  </div>

  <!-- Right container for highchart -->
  <div class="right-container">
    <app-radiosearch-highchart></app-radiosearch-highchart>
    <p class="below-text" *ngIf="selectedSource$ | async as selectedSource">
      <ng-container *ngIf="averageFlux$ | async as averageFlux; else noFlux">
        The uploaded file used a frequency range of {{ lowerFreq || 'N/A' }} MHz to {{ upperFreq || 'N/A' }} MHz. The expected flux for radio source
        {{ selectedSource || 'Unknown Source' }} in this frequency range is {{ averageFlux }} Jy.
      </ng-container>
      <ng-template #noFlux>
        There is not enough data to guess the flux at the appropriate frequency!
      </ng-template>
    </p>
    <div class="button-container">
      <button (click)="saveGraph()" color="'primary'" style="border-radius: 3px" mat-raised-button>Save Graph</button>
    </div>
  </div>
</div>
